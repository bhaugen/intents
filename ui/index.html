<html>
  <head>
    <script type="text/javascript" src="/Intents.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
  <body>
    <form>
      <p>Post an Intent.</p>
      <p>This will be stored in Holochain and the hash key for the new intent will be shown</p>
      <p>in the Hash text box below.</p>
      <label for="intent">Intent</label>
      <input type="text" id="intent" size="50" value="This text will be saved in Holochain" />
      <button type="submit" id="submitEntry">Submit</button>
    </form>

    <form>
      <p>Press the Read button and the hash key will be used to retrieve the intent</p>
      <label for="hash">Hash</label>
      <input type="text" id="hash" size="50"/>
      <input type="text" id="entryContent" />
      <button type="submit" id="readEntry">Read</button>
    </form>
    
    <div>
        <ul id="intents">
        </ul>
    </div>

    <script type="text/javascript">
        $(function() { 
            var intents = getAllIntents();
        });
      document.getElementById("submitEntry").addEventListener("click", function(event){
          event.preventDefault()
          intentCreate(document.getElementById('intent').value, function(hash){
            document.getElementById('hash').value = hash
          })
      });
      document.getElementById("readEntry").addEventListener("click", function(event){
          event.preventDefault()
          intentRead(document.getElementById('hash').value, function(task){
              document.getElementById('entryContent').value = task.content
          })
      });
      
  </script>
  </body>
</html>
